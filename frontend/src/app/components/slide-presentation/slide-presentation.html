<div class="slide-presentation-container" [class.fullscreen]="isFullscreen">
  <!-- Header (hidden in fullscreen and when not needed) -->
  <div class="presentation-header" *ngIf="!isFullscreen && false">
    <div class="slide-info">
      <h3>{{ getSlideTitle() }}</h3>
      <span class="slide-counter" *ngIf="totalSlides > 1">
        {{ getCurrentSlideNumber() }} / {{ getTotalSlides() }}
      </span>
    </div>
    
    <div class="presentation-controls">
      <button 
        class="control-btn" 
        (click)="previousSlide()" 
        [disabled]="!canGoToPrevious()"
        title="Předchozí snímek (← nebo ↑)">
        ←
      </button>
      
      <button 
        class="control-btn" 
        (click)="nextSlide()" 
        title="{{ canGoToNext() ? 'Další snímek (→ nebo ↓)' : 'Pokračovat na další kolo (→ nebo ↓)' }}">
        {{ canGoToNext() ? '→' : '⏭️' }}
      </button>
      
      <button 
        class="control-btn fullscreen-btn" 
        (click)="toggleFullscreen()"
        title="Přepnout celou obrazovku (F)">
        ⛶
      </button>
    </div>
  </div>

  <!-- Slide Navigation Bar (for slide ranges, hidden in fullscreen) -->
  <div class="slide-navigation" *ngIf="totalSlides > 1 && !isFullscreen && false">
    <div class="slide-thumbnails">
      <button 
        *ngFor="let slide of slides; let i = index"
        class="slide-thumb"
        [class.active]="i === currentSlideIndex"
        (click)="goToSlide(i)"
        [title]="'Přejít na snímek ' + (i + 1)">
        {{ i + 1 }}
      </button>
    </div>
  </div>

  <!-- Main Slide Display -->
  <div class="slide-display">
    <!-- Loading State -->
    <div class="slide-loading" *ngIf="isImageLoading">
      <div class="loading-spinner"></div>
      <p>Načítání snímku...</p>
    </div>

    <!-- Error State -->
    <div class="slide-error" *ngIf="imageError && !isImageLoading">
      <div class="error-icon">⚠️</div>
      <h3>Snímek nenalezen</h3>
      <p>Nepodařilo se načíst obrázek snímku. Zkontrolujte prosím, zda soubory snímků existují.</p>
    </div>

    <!-- Slide Image -->
    <div class="slide-content" *ngIf="currentImageUrl && !isImageLoading && !imageError">
      <img 
        [src]="currentImageUrl" 
        [alt]="getSlideTitle()"
        class="slide-image"
        (load)="isImageLoading = false"
        (error)="imageError = true; isImageLoading = false">
    </div>
  </div>

  <!-- Fullscreen Navigation Overlay -->
  <div class="fullscreen-overlay" *ngIf="isFullscreen">
    <!-- Navigation Hint -->
    <div class="navigation-hint">
      <p>Používejte šipky nebo mezerník pro navigaci • Pravá šipka na posledním snímku pokračuje na další kolo • Stiskněte F pro celou obrazovku • Stiskněte ESC pro ukončení</p>
    </div>

    <!-- Slide Counter -->
    <div class="fullscreen-counter" *ngIf="totalSlides > 1">
      {{ getCurrentSlideNumber() }} / {{ getTotalSlides() }}
    </div>

    <!-- Navigation Arrows -->
    <button 
      class="fullscreen-nav fullscreen-nav-left" 
      (click)="previousSlide()" 
      [style.visibility]="canGoToPrevious() ? 'visible' : 'hidden'"
      title="Předchozí snímek">
      ←
    </button>
    
    <button 
      class="fullscreen-nav fullscreen-nav-right" 
      (click)="nextSlide()" 
      title="{{ canGoToNext() ? 'Další snímek' : 'Pokračovat na další kolo' }}">
      {{ canGoToNext() ? '→' : '⏭️' }}
    </button>

    <!-- Exit Fullscreen Button -->
    <button 
      class="fullscreen-exit" 
      (click)="exitFullscreen()"
      title="Ukončit celou obrazovku">
      ✕
    </button>
  </div>

  <!-- Round Details (hidden in fullscreen) -->
  <div class="round-details" *ngIf="currentRoundDetails && !isFullscreen">
    <div class="detail-section" *ngIf="currentRoundDetails.comment">
      <h4>📝 Popis</h4>
      <p>{{ currentRoundDetails.comment }}</p>
    </div>
    
    <div class="detail-section" *ngIf="currentRoundDetails.weather && currentRoundDetails.weather.length > 0">
      <h4>🌤️ Počasí</h4>
      <div class="weather-tags">
        <span *ngFor="let weather of currentRoundDetails.weather" class="weather-tag">
          {{ weather.name }}
        </span>
      </div>
    </div>
  </div>

  <!-- Floating Slide Controls -->
  <div class="floating-slide-controls" *ngIf="!isFullscreen">
    <button 
      class="floating-control-btn" 
      (click)="previousSlide()" 
      [disabled]="!canGoToPrevious()"
      title="Předchozí snímek (← nebo ↑)">
      ←
    </button>
    
    <button 
      class="floating-control-btn" 
      (click)="nextSlide()" 
      title="{{ canGoToNext() ? 'Další snímek (→ nebo ↓)' : 'Pokračovat na další kolo (→ nebo ↓)' }}">
      {{ canGoToNext() ? '→' : '⏭️' }}
    </button>
    
    <button 
      class="floating-control-btn fullscreen-btn" 
      (click)="toggleFullscreen()"
      title="Přepnout celou obrazovku (F)">
      ⛶
    </button>
  </div>

  <!-- End notification overlay removed; handled by parent dashboard component -->
</div>
