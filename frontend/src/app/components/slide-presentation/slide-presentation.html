<div class="slide-presentation-container" [class.fullscreen]="isFullscreen">
  <!-- Header (hidden in fullscreen and when not needed) -->
  <div class="presentation-header" *ngIf="!isFullscreen && false">
    <div class="slide-info">
      <h3>{{ getSlideTitle() }}</h3>
      <span class="slide-counter" *ngIf="totalSlides > 1">
        {{ getCurrentSlideNumber() }} / {{ getTotalSlides() }}
      </span>
    </div>
    
    <div class="presentation-controls">
      <button 
        class="control-btn" 
        (click)="previousSlide()" 
        [disabled]="!canGoToPrevious()"
        title="PÅ™edchozÃ­ snÃ­mek (â† nebo â†‘)">
        â†
      </button>
      
      <button 
        class="control-btn" 
        (click)="nextSlide()" 
        title="{{ canGoToNext() ? 'DalÅ¡Ã­ snÃ­mek (â†’ nebo â†“)' : 'PokraÄovat na dalÅ¡Ã­ kolo (â†’ nebo â†“)' }}">
        {{ canGoToNext() ? 'â†’' : 'â­ï¸' }}
      </button>
      
      <button 
        class="control-btn fullscreen-btn" 
        (click)="toggleFullscreen()"
        title="PÅ™epnout celou obrazovku (F)">
        â›¶
      </button>
    </div>
  </div>

  <!-- Slide Navigation Bar (for slide ranges, hidden in fullscreen) -->
  <div class="slide-navigation" *ngIf="totalSlides > 1 && !isFullscreen && false">
    <div class="slide-thumbnails">
      <button 
        *ngFor="let slide of slides; let i = index"
        class="slide-thumb"
        [class.active]="i === currentSlideIndex"
        (click)="goToSlide(i)"
        [title]="'PÅ™ejÃ­t na snÃ­mek ' + (i + 1)">
        {{ i + 1 }}
      </button>
    </div>
  </div>

  <!-- Main Slide Display -->
  <div class="slide-display">
    <!-- Loading State -->
    <div class="slide-loading" *ngIf="isImageLoading">
      <div class="loading-spinner"></div>
      <p>NaÄÃ­tÃ¡nÃ­ snÃ­mku...</p>
    </div>

    <!-- Error State -->
    <div class="slide-error" *ngIf="imageError && !isImageLoading">
      <div class="error-icon">âš ï¸</div>
      <h3>SnÃ­mek nenalezen</h3>
      <p>NepodaÅ™ilo se naÄÃ­st obrÃ¡zek snÃ­mku. Zkontrolujte prosÃ­m, zda soubory snÃ­mkÅ¯ existujÃ­.</p>
    </div>

    <!-- Slide Image -->
    <div class="slide-content" *ngIf="currentImageUrl && !isImageLoading && !imageError">
      <img 
        [src]="currentImageUrl" 
        [alt]="getSlideTitle()"
        class="slide-image"
        (load)="isImageLoading = false"
        (error)="imageError = true; isImageLoading = false">
    </div>
  </div>

  <!-- Fullscreen Navigation Overlay -->
  <div class="fullscreen-overlay" *ngIf="isFullscreen">
    <!-- Navigation Hint -->
    <div class="navigation-hint">
      <p>PouÅ¾Ã­vejte Å¡ipky nebo mezernÃ­k pro navigaci â€¢ PravÃ¡ Å¡ipka na poslednÃ­m snÃ­mku pokraÄuje na dalÅ¡Ã­ kolo â€¢ StisknÄ›te F pro celou obrazovku â€¢ StisknÄ›te ESC pro ukonÄenÃ­</p>
    </div>

    <!-- Slide Counter -->
    <div class="fullscreen-counter" *ngIf="totalSlides > 1">
      {{ getCurrentSlideNumber() }} / {{ getTotalSlides() }}
    </div>

    <!-- Navigation Arrows -->
    <button 
      class="fullscreen-nav fullscreen-nav-left" 
      (click)="previousSlide()" 
      [style.visibility]="canGoToPrevious() ? 'visible' : 'hidden'"
      title="PÅ™edchozÃ­ snÃ­mek">
      â†
    </button>
    
    <button 
      class="fullscreen-nav fullscreen-nav-right" 
      (click)="nextSlide()" 
      title="{{ canGoToNext() ? 'DalÅ¡Ã­ snÃ­mek' : 'PokraÄovat na dalÅ¡Ã­ kolo' }}">
      {{ canGoToNext() ? 'â†’' : 'â­ï¸' }}
    </button>

    <!-- Exit Fullscreen Button -->
    <button 
      class="fullscreen-exit" 
      (click)="exitFullscreen()"
      title="UkonÄit celou obrazovku">
      âœ•
    </button>
  </div>

  <!-- Round Details (hidden in fullscreen) -->
  <div class="round-details" *ngIf="currentRoundDetails && !isFullscreen">
    <div class="detail-section" *ngIf="currentRoundDetails.comment">
      <h4>ğŸ“ Popis</h4>
      <p>{{ currentRoundDetails.comment }}</p>
    </div>
    
    <div class="detail-section" *ngIf="currentRoundDetails.weather && currentRoundDetails.weather.length > 0">
      <h4>ğŸŒ¤ï¸ PoÄasÃ­</h4>
      <div class="weather-tags">
        <span *ngFor="let weather of currentRoundDetails.weather" class="weather-tag">
          {{ weather.name }}
        </span>
      </div>
    </div>
  </div>

  <!-- Floating Slide Controls -->
  <div class="floating-slide-controls" *ngIf="!isFullscreen">
    <button 
      class="floating-control-btn" 
      (click)="previousSlide()" 
      [disabled]="!canGoToPrevious()"
      title="PÅ™edchozÃ­ snÃ­mek (â† nebo â†‘)">
      â†
    </button>
    
    <button 
      class="floating-control-btn" 
      (click)="nextSlide()" 
      title="{{ canGoToNext() ? 'DalÅ¡Ã­ snÃ­mek (â†’ nebo â†“)' : 'PokraÄovat na dalÅ¡Ã­ kolo (â†’ nebo â†“)' }}">
      {{ canGoToNext() ? 'â†’' : 'â­ï¸' }}
    </button>
    
    <button 
      class="floating-control-btn fullscreen-btn" 
      (click)="toggleFullscreen()"
      title="PÅ™epnout celou obrazovku (F)">
      â›¶
    </button>
  </div>

  <!-- End notification overlay removed; handled by parent dashboard component -->
</div>
